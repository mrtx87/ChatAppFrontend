<div class="left-panel">
    <div class="user-panel">
        <div (click)="initDisplayProfile()" class="user-app-logo">
            <img *ngIf="localUser" class="user-app-logo-img"
                src="{{localUser.iconUrl ? localUser.iconUrl : 'assets/default-user-icon.svg'}}">
        </div>
        <label class="user-name">
            {{localUser?.name}}
        </label>
        <div class="new-user-logo">
            <img class="user-list-img" src="assets/comment.svg" (click)="initDisplayContacts()">
        </div>
        <div class="new-user-logo">
            <img class="new-user-logo-img" src="assets/new-user.svg" (click)="initDisplayAddContact()">
        </div>
        <div [ngClass]="displayUserMenu == 1 ? 'active' : ''" class="user-app-burger" tabindex="-1">
            <img class="user-app-burger-img" src="assets/burger.svg" (click)="toggleUserMenu()">
            <div id="leftpanel-burger-menu" [ngClass]="setUserMenuClassName()">

                <div (click)="initDisplayNewGroup();displayUserMenu = 0" class="menu-row super-user-menu">
                    {{ 'new_group' | tl8 }}
                </div>
                <div (click)="initDisplayProfile(); displayUserMenu = 0" class="menu-row super-user-menu">
                    {{ 'user_profile' | tl8 }}
                </div>
                <div (click)="initDisplaySettings(); displayUserMenu = 0" class="menu-row super-user-menu">
                    {{ 'user_settings' | tl8 }}
                </div>
                <div (click)="initLogout()" class="menu-row super-user-menu">
                    {{ 'log_out' | tl8 }}
                </div>
            </div>
        </div>
    </div>

    <!---
    <button onclick="document.getElementById('file-input').click();">Open</button>
    <input [(ngModel)]="uploadImage" (change)="encodeImageFileAsURL()" id="file-input" type="file" name="name"
        style="display: none;" /> -->

    <div class="search-contact-container" [ngClass]="isFocused ? 'is-focused' : ''">


        <input (focus)="isClicked()" (focusout)="focusOut()" [(ngModel)]="searchChatInputText"
            class="search-contact-inputfield" type="text" placeholder="{{ 'search_chats' | tl8 }}">
        <div class="icons">
            <span class="magni"></span>
            <span (click)="focusOut()" class="blue-arrow"></span>
        </div>
    </div>
    <div class="rooms-container">
        <div *ngFor="let chatRoom of availableRooms"
            class="rooms-row {{this.displayedChatRoom == chatRoom ? 'rooms-row-selected' : ''}}"
            (click)="toggleDisplayedRoom(chatRoom)">
            <!-- {{values.resolveLatestChatMessageBody(chatRoom.value)}} -->
            <div style="position: relative;">
                <img class="profil-image" src="{{chatRoom | roomImg}}">
                <div [hidden]="!chatRoom.unseenChatMessageIds || chatRoom.unseenChatMessageIds == 0"
                    style="border-radius:50%; background-color: red; color:white; font-weight: bolder; left:2px; bottom:2px; padding:2px 5px; position:absolute;">
                    {{chatRoom.unseenChatMessageIds?.length}}
                </div>
            </div>
            <div style="display:flex; flex-direction: column; width:90%;">
                <div class="room-wrapper">
                    <div class="room-title-container">
                        {{chatRoom | chatRoomName}}
                    </div>
                    <span>
                        {{chatRoom | latestChatMessageDate}}
                    </span>
                </div>
                <div [innerHTML]="values.resolveLatestChatMessageBody(chatRoom)" class="room-last-message-container">
                </div>
            </div>
        </div>
    </div>


    <!-- OTHER OVERLAYING COMPONENTS -->
    <app-adduser *ngIf="constants.ADD_USER_PANEL === currentDisplayedLeftPanel" class="overlay-comp-container"
        [ngClass]="chatService.adduserComponent.slideOut ? 'anim-out-fast' : 'anim-in'">
    </app-adduser>

    <app-contacts *ngIf="constants.CONTACTS_COMPONENT === currentDisplayedLeftPanel"
        class="new-chat overlay-comp-container"
        [ngClass]="chatService.contactsComponent.slideOut ? 'anim-out-fast' : 'anim-in'">
    </app-contacts>

    <app-addgroupchat *ngIf="constants.ADD_GROUP_CHAT === currentDisplayedLeftPanel" class="overlay-comp-container"
        [ngClass]="chatService.addGroupChatComponent.slideOut ? 'anim-out-fast' : 'anim-in'">
    </app-addgroupchat>

    <app-group-profile *ngIf="constants.GROUP_CHAT_PROFILE === currentDisplayedLeftPanel" class="overlay-comp-container"
        [ngClass]="chatService.groupProfileComponent.slideOut ? 'anim-out-fast' : 'anim-in'">
    </app-group-profile>

    <app-profile *ngIf="constants.USER_PROFILE === currentDisplayedLeftPanel" class="overlay-comp-container"
        [ngClass]="chatService.profileComponent.slideOut ? 'anim-out-fast' : 'anim-in'"></app-profile>

    <app-settings *ngIf="constants.USER_SETTINGS === currentDisplayedLeftPanel" class="overlay-comp-container"
        [ngClass]="chatService.settingsComponent.slideOut ? 'anim-out-fast' : 'anim-in'"></app-settings>

    <!--class="anim overlay-comp-container"-->

</div>